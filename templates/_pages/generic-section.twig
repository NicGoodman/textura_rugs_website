<section id="page-content" class="section-wrapper" x-data="{selected:null}">
	{% set pageContent = entry.pageContent %}
	{% for row in pageContent.all() %}
		<article id="" class="">
			<h1>{{ row.sectionHeader}}</h1>
			<div id="" class="flex flex-row flex-wrap w-full">
				{% for block in row.sectionContent.all() %}
					{% switch block.type %}
						{% case "subheading" %}
							<h2 class="w-full my-4 border-b-2 border-rug-light-blue">{{ block.subheadingText }}</h2>
						{% case "body" %}
							<div id="" class="flex-1 p-4">
								{{ block.bodyText  | nl2br }}
							</div>
						{% case "image" %}
							{% set imageWidth = "" %}
							{% set imageHeight = "" %}
							{% set imageSize = "" %}
							{% set imageCaption = block.caption %}
							{% set image = block.image.one().optimizedImages %}

							{% if block.size == "fullWidth" %}
								{% set imageWidth = "w-full" %}
								{% set imageSize = "w-full" %}
							{% elseif block.size == "halfWidth" %}
								{% set imageWidth = "w-1/2" %}
								{% set imageSize = "w-full" %}
							{% elseif block.size == "thirdWidth" %}
								{% set imageWidth = "w-1/3" %}
								{% set imageSize = "w-full" %}
							{% elseif block.size == "square" %}
								{% set imageWidth = "" %}
								{% set imageSize = "h-64 w-64" %}
							{% endif %}

							{% if block.height == "fullHeight" %}
								{% set imageHeight = "h-full" %}
							{% elseif block.height =="uniform" %}
								{% set imageHeight = "h-64" %}
							{% endif %}


							<picture id="" class="{{ imageWidth }} text-center flex flex-col items-center px-4">
								<img src="{{ image.src() }}" alt="" data-srcset="{{ image.srcset() }}" class="{{ imageSize }} {{ imageHeight }} object-cover border-2 border-rug-dark-blue">
								<p>{{ imageCaption }}</p>
							</picture>

						{% case "accordion" %}
							<div id="" class="flex flex-row justify-between w-full mb-4 border-b-2 border-rug-light-blue" @click="selected !== {{ loop.index }} ? selected = {{ loop.index }} : selected = null" :class="{ 'text-rug-light-blue': selected === {{ loop.index }}, 'text-rug-dark-blue': selected !== {{ loop.index }} }">
								<h2>{{ block.heading }}</h2>
								<svg x-show="!selected" class="fill-current" viewbox="0 0 24 24" width="24" height="24">
									<path class="heroicon-ui" d="M12 22a10 10 0 110-20 10 10 0 010 20zm0-2a8 8 0 100-16 8 8 0 000 16zm1-9h2a1 1 0 010 2h-2v2a1 1 0 01-2 0v-2H9a1 1 0 010-2h2V9a1 1 0 012 0v2z"/>
								</svg>
								<svg x-show="selected" class="fill-current" viewbox="0 0 24 24" width="24" height="24">
									<path class="heroicon-ui" d="M12 22a10 10 0 110-20 10 10 0 010 20zm0-2a8 8 0 100-16 8 8 0 000 16zm4-8a1 1 0 01-1 1H9a1 1 0 010-2h6a1 1 0 011 1z"/>
								</svg>
							</div>
							<div class="w-full" x-show="selected == {{ loop.index }}">
								{{ block.text | nl2br }}
							</div>

					{% endswitch %}
				{% endfor %}
			</div>
		</article>
	{% endfor %}
</section>
